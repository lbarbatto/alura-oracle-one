<!DOCTYPE html>
<html lang="pt-br">

<head>

    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">

    <title>Minha Enigma</title>
</head>

<body>
    <Header>
        <img id="logo" src="img/logo.png" alt="">

    </Header>

    <main>
        <div class="principal">
            <textarea name="" id="texto-entrada" cols="30" rows="1" required placeholder="Digite seu texto"></textarea>
            <p><img src="img/exclama.svg" alt=""> Apenas letras minúsculas e sem acento.</p>
        </div>
        <div class="botoes">
            <button id="bt-criptografar">Criptografar</button>
            <button id="bt-descriptografar">Descriptografar</button>
        </div>
        <section id="retangulo-inicio">
            <img src="img/High quality products 1 1.svg" alt="">
            <div id="legenda-img">
                <h2>Nenhuma mensagem encontrada</h2>
                <p>Digite um texto que você deseja criptografar ou descriptografar.</p>
            </div>
        </section>
        <section id="retangulo-mensagem">
            <textarea name="" id="mensagem-descriptografada" cols="30" rows="10"></textarea>
            <div class="tooltip">
                <button onclick="copiarMensagem()" onmouseout="outFunc()">
                    <span class="tooltiptext" id="myTooltip">
                        Copiar para clipboard
                    </span>
                    Copiar
                </button>
            </div>            
        </section>
    </main>
    
    <footer>
        <p>Desenvolvido por Leopoldo Barbato<br>
        <a href="mailto:leopoldo.barbato@gmail.com">leopoldo.barbato@gmail.com</a></p>
        <a href="https://www.linkedin.com/in/leopoldo-barbato/" target="_blank">Linkedin</a>
        <a href="https://github.com/lbarbatto" target="_blank">Github</a> 
    </footer>

    <script>

        var textoEntrada = document.getElementById("texto-entrada")
        textoEntrada.focus();

        function mostraTexto(esconde, mostra) {
            document.getElementById(esconde).style.display = 'none';
            document.getElementById(mostra).style.display = 'block';             
        }
        
        function criptografar() {
            mostraTexto('retangulo-inicio', 'retangulo-mensagem');
            document.getElementById("mensagem-descriptografada").innerHTML = textoEntrada.value;
        }

        function descriptografar() {
            alert(textoEntrada.value + " DESCRIPTOGRAFADO");
            mostraTexto('retangulo-inicio', 'retangulo-mensagem');
        }

        function copiarMensagem() {
            var mensagemCopiada = document.getElementById("mensagem-descriptografada");
            mensagemCopiada.select();
            mensagemCopiada.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(mensagemCopiada.value);
            
            var tooltip = document.getElementById("myTooltip");
            tooltip.innerHTML = "Copiado: " + mensagemCopiada.value;
        }

        function outFunc() {
            var tooltip = document.getElementById("myTooltip");
            tooltip.innerHTML = "Copiar para clipboard";
        }

        var btCriptografar = document.getElementById("bt-criptografar");
        btCriptografar.onclick = criptografar;

        var btCriptografar = document.getElementById("bt-descriptografar");
        btCriptografar.onclick = descriptografar;


	



    
    </script>

</body>
</html>